This is a experimental HSM daemon and migrate tool. It is meant to be
a platform for testing ideas in HSM migration.

To download the code, either fetch with your web browser, or use git
like this:

   git clone http://samba.org/~tridge/hacksm/.git

To use it first setup a shared filesystem with NFS to hold the HSM
"store", putting it in the HSM_STORE location from hacksm.h. The
default is /hacksm_store

Then start the HSM daemon like this:

   hacksmd /gpfs &

You can then migrate files using hacksm_migrate, and view their state
using hacksm_ls

You may also want to look at
 
  http://samba.org/~tridge/junkcode/tsm_torture.c

for a test program that stresses out HSM implementations

The "store" for hacksm is just a directory with files named by device
and inode number. When a file is migrated the data is moved to the
store and a dmapi hole is punched in the original file. This mimicks
the behaviour of real HSM daemons. When the hacksmd daemon gets a data
event (indicating that someone wants to read or write the data in the
file) then the data is restored from the "store" and the file can then
be read normally.
